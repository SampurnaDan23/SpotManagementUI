<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Spot</title>
</head>
<body>
<h1>Create a New Spot</h1>
<nav>
    <a th:href="@{/home}">Home</a> 
    <a th:href="@{/spots/create}">Create Spot</a>
</nav>

<form th:action="@{/spots/create}" th:object="${spotCreateDTO}" method="post" enctype="multipart/form-data">
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <div>
        <label for="spotNumber">Spot Number:</label>
        <input type="text" id="spotNumber" th:field="*{spotNumber}" required>
    </div>

    <div>
        <label for="price">Price:</label>
        <input type="number" id="price" th:field="*{price}" step="0.01" required>
    </div>

    <div>
        <label for="hasEVCharging">Has EV Charging:</label>
        <input type="checkbox" id="hasEVCharging" th:field="*{hasEVCharging}">
    </div>

    <div>
        <label for="spotType">Spot Type:</label>
        <select id="spotType" th:field="*{spotType}" required>
            <option value="">-- Select Spot Type --</option>
            <option th:each="type : ${spotTypes}" th:value="${type}" th:text="${type}"></option>
        </select>
    </div>

    <div>
        <label for="priceType">Price Type:</label>
        <select id="priceType" th:field="*{priceType}" required>
            <option value="">-- Select Price Type --</option>
            <option th:each="type : ${priceTypes}" th:value="${type}" th:text="${type}"></option>
        </select>
    </div>

    <div>
        <h3>Location</h3>
        <div>
            <label for="location.streetAddress">Address:</label>
            <input type="text" id="location.streetAddress" th:field="*{location.streetAddress}" required>
        </div>
        <div>
            <label for="location.city">City:</label>
            <input type="text" id="location.city" th:field="*{location.city}" required>
        </div>
        <div>
            <label for="location.state">State:</label>
            <input type="text" id="location.state" th:field="*{location.state}" required>
        </div>
        <div>
            <label for="location.pincode">Pin Code:</label>
            <input type="text" id="location.pincode" th:field="*{location.pincode}" required>
        </div>
        <div>
            <label for="location.latitude">Latitude:</label>
            <input type="number" id="location.latitude" th:field="*{location.latitude}" step="0.000001" required>
        </div>
        <div>
            <label for="location.longitude">Longitude:</label>
            <input type="number" id="location.longitude" th:field="*{location.longitude}" step="0.000001" required>
        </div>
    </div>

    <div>
        <label>Supported Vehicle Types:</label>
        <div th:each="vehicleType : ${vehicleTypes}">
            <input type="checkbox" th:field="*{supportedVehicle}" th:value="${vehicleType}" th:id="${'vehicle-' + vehicleType}">
            <label th:for="${'vehicle-' + vehicleType}" th:text="${vehicleType}"></label>
        </div>
    </div>
	
	<div>
	    <label for="images">Upload Images:</label>
	    <input type="file" id="images" name="images" multiple required>
	</div>

    <button type="submit">Create Spot</button>
</form>
<p th:if="${error}" th:text="${error}" style="color: red;"></p>
</body>
</html>